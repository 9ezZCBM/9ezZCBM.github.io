<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Quick Start - Emacs Development Environment</title>
<!--
This file describes EDE, the Emacs Development Environment.

Copyright (C) 1998--2001, 2004--2005, 2008--2019
Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Quick-Start"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Creating-a-project.html#Creating-a-project">Creating a project</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="EDE-Mode.html#EDE-Mode">EDE Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>

</div>

<h2 class="chapter">3 Quick Start</h2>

<p>Once you have <i>EDE</i> enabled, you can create a project.  This chapter
provides an example C++ project that will create Automake files for
compilation.

<h3 class="section">3.1 Step 1: Create root directory</h3>

<p>First, lets create a directory for our project.  For this example,
we'll start with something in <samp><span class="file">/tmp</span></samp>.

<pre class="example">     C-x C-f /tmp/myproject/README &lt;RET&gt;
     M-x make-directory &lt;RET&gt; &lt;RET&gt;
</pre>
   <p>Now put some plain text in your README file to start.

   <p>Now, lets create the project:

<pre class="example">     M-x ede-new &lt;RET&gt; Automake &lt;RET&gt; myproject &lt;RET&gt;
</pre>
   <p>Nothing visible happened, but if you use <code>dired</code> to look at the
directory, you should see this:

<pre class="example">       /tmp/myproject:
       total used in directory 32 available 166643476
       drwxr-xr-x  2 zappo users  4096 2012-02-23 22:10 .
       drwxrwxrwt 73 root  root  20480 2012-02-23 22:10 ..
       -rw-r--r--  1 zappo users   195 2012-02-23 22:10 Project.ede
       -rw-r--r--  1 zappo users    10 2012-02-23 22:09 README
</pre>
   <h3 class="section">3.2 Step 2: Create Subdirectories and Files</h3>

<p>We'll make a more complex project, so use dired to create some more
directories using the <kbd>+</kbd> key, and typing in new directories:

<pre class="example">     + include &lt;RET&gt;
     + src &lt;RET&gt;
</pre>
   <p>Now I'll short-cut in this tutorial.  Create the following files:

   <p><samp><span class="file">include/myproj.hh</span></samp>
<pre class="example">     /** myproj.hh ---
      */
     
     #ifndef myproj_hh
     #define myproj_hh 1
     
     #define IMPORTANT_MACRO 1
     
     int my_lib_function();
     
     #endif // myproj_hh
</pre>
   <p><samp><span class="file">src/main.cpp</span></samp>
<pre class="example">     /** main.cpp ---
      */
     
     #include &lt;iostream&gt;
     #include "myproj.hh"
     
     int main() {
     
     }
     
     #ifdef IMPORTANT_MACRO
     int my_fcn() {
     
     }
     #endif
</pre>
   <p><samp><span class="file">src/mylib.cpp</span></samp>
<pre class="example">     /** mylib.cpp ---
      *
      * Shared Library to build
      */
     
     int my_lib_function() {
     
     }
</pre>
   <h3 class="section">3.3 Step 3: Create subprojects</h3>

<p><i>EDE</i> needs subdirectories to also have projects in them.  You can
now create those projects.

   <p>With <samp><span class="file">main.cpp</span></samp> as your current buffer, type:

<pre class="example">     M-x ede-new &lt;RET&gt; Automake &lt;RET&gt; src &lt;RET&gt;
</pre>
   <p>and in <samp><span class="file">myproj.hh</span></samp> as your current buffer, type:

<pre class="example">     M-x ede-new &lt;RET&gt; Automake &lt;RET&gt; include &lt;RET&gt;
</pre>
   <p>These steps effectively only create the Project.ede file in which you
will start adding targets.

<h3 class="section">3.4 Step 4: Create targets</h3>

<p>In order to build a program, you must have targets in your <i>EDE</i>
Projects.  You can create targets either from a buffer, or from a
<code>dired</code> directory buffer.

   <p>Note: If for some reason a directory list buffer, or file does not have the
&lsquo;<samp><span class="samp">Project</span></samp>&rsquo; menu item, or if <i>EDE</i> keybindings don't work, just
use <kbd>M-x revert-buffer &lt;RET&gt;</kbd> to force a refresh.  Sometimes
creating a new project doesn't restart buffers correctly.

   <p>Lets start with the header file.  In <samp><span class="file">include/myproj.hh</span></samp>, you
could use the menu, but we will now start using the <i>EDE</i> command prefix
which is <kbd>C-c .</kbd>.

<pre class="example">     C-c . t includes &lt;RET&gt; miscellaneous &lt;RET&gt; y
</pre>
   <p>This creates a misc target for holding your includes, and then adds
myproj.hh to the target.  Automake (the tool) has better ways to do
this, but for this project, it is sufficient.

   <p>Next, visit the <samp><span class="file">src</span></samp> directory using dired.  There should be a
&lsquo;<samp><span class="samp">Project</span></samp>&rsquo; menu.   You can create a new target with

<pre class="example">     . t myprogram &lt;RET&gt; program &lt;RET&gt;
</pre>
   <p>Note that <kbd>. t</kbd> is a command for creating a target.  This command
is also in the menu.  This will create a target that will build a
program.  If you want, visit <samp><span class="file">Project.ede</span></samp> to see the structure
built so far.

   <p>Next, place the cursor on <samp><span class="file">main.cpp</span></samp>, and use <kbd>. a</kbd> to add
that file to your target.

<pre class="example">     . a myprogram &lt;RET&gt;
</pre>
   <p>Note that these prompts often have completion, so you can just press
<kbd>TAB</kbd> to complete the name <samp><span class="file">myprogram</span></samp>.

   <p>If you had many files to add to the same target, you could mark them
all in your dired buffer, and add them all at the same time.

   <p>Next, do the same for the library by placing the cursor on <samp><span class="file">mylib.cpp</span></samp>.

<pre class="example">     . t mylib &lt;RET&gt; sharedobject &lt;RET&gt;
     . a mylib &lt;RET&gt;
</pre>
   <h3 class="section">3.5 Step 5: Compile, and fail</h3>

<p>Next, we'll try to compile the project, but we aren't done yet, so it
won't work right away.

   <p>Visit <samp><span class="file">/tmp/myproject/Project.ede</span></samp>.  We're starting here because
we don't have any program files in this directory yet.  Now we can use
the compile command:

<pre class="example">     C-c . C
</pre>
   <p>Because this is the very first time, it will create a bunch of files
for you that are required by Automake.  It will then use automake to
build the support infrastructure it needs.  This step is skipped if
you choose just a <samp><span class="file">Makefile</span></samp> build system.

   <p>After the Automake init, it runs compile.  You will immediately
discover the error in main.cpp can't find <samp><span class="file">myproj.hh</span></samp>.  We need
to go fix this.

<h3 class="section">3.6 Step 6: Customizing your project</h3>

<p>To fix the failed compile, we need to add
<samp><span class="file">/tmp/myproject/include</span></samp> to the include path.

   <p>Visit <samp><span class="file">main.cpp</span></samp>.

<pre class="example">     M-x customize-project &lt;RET&gt;
</pre>
   <p>Select the &lsquo;<samp><span class="samp">[Settings]</span></samp>&rsquo; subgroup of options.  Under
&lsquo;<samp><span class="samp">Variable :</span></samp>&rsquo; click &lsquo;<samp><span class="samp">[INS]</span></samp>&rsquo;.  At this point, you need to be
somewhat savvy with Automake.  Add a variable named &lsquo;<samp><span class="samp">CPPFLAGS</span></samp>&rsquo;,
and set the value to &lsquo;<samp><span class="samp">../include</span></samp>&rsquo;.

   <p>You should see something like this:

<pre class="example">     Variables :
     [INS] [DEL] Cons-cell:
                 Name: AM_CPPFLAGS
                 Value: -I../include
     [INS]
     Variables to set in this Makefile.
</pre>
   <p>Click &lsquo;<samp><span class="samp">[Apply]</span></samp>&rsquo;.  Feel free to visit <samp><span class="file">Project.ede</span></samp> to see
how it changed the config file.

   <p>Compile the whole project again with <kbd>C-c . C</kbd> from
<samp><span class="file">main.cpp</span></samp>.  It should now compile.

<h3 class="section">3.7 Step 7: Shared library dependency</h3>

<p>Note: Supporting shared libraries for Automake in this way is easy,
but doing so from a project of type Makefile is a bit tricky.  If you
are creating shared libraries too, stick to Automake projects.

   <p>Next, lets add a dependency from <samp><span class="file">main.cpp</span></samp> on our shared
library.  To do that, update main like this:

<pre class="example">     int main() {
     
       my_lib_function();
     
     }
</pre>
   <p>Now compile with:

<pre class="example">     C-c . c
</pre>
   <p>where the lower case <kbd>c</kbd> compiles just that target.  You should
see an error.

   <p>This time, we need to add a dependency from <samp><span class="file">main.cpp</span></samp> on our shared
library.  To do that, we need to customize our target instead of the
project.  This is because variables such as the include path are
treated globally, whereas dependencies for a target are target specific.

<pre class="example">     M-x customize-target &lt;RET&gt;
</pre>
   <p>On the first page, you will see an Ldlibs-local section.  Add mylib to
it by first clicking &lsquo;<samp><span class="samp">[INS]</span></samp>&rsquo;, and they adding the library.  It
should look like this:

<pre class="example">     Ldlibs-Local :
     [INS] [DEL] Local Library: libmylib.la
     [INS]
     Libraries that are part of this project. [Hide Rest]
     The full path to these libraries should be specified, such as:
     ../lib/libMylib.la  or ../ar/myArchive.a
</pre>
   <p>You will also see other variables for library related flags and system
libraries if you need them.  Click &lsquo;<samp><span class="samp">[Accept]</span></samp>&rsquo;, and from
<samp><span class="file">main.cpp</span></samp>, again compile the whole project to force all
dependent elements to compile:

<pre class="example">     C-c . C
</pre>
   <h3 class="section">3.8 Step 8: Run your program</h3>

<p>You can run your program directly from <i>EDE</i>.

<pre class="example">     C-c . R &lt;RET&gt; &lt;RET&gt;
</pre>
   <p>If your program takes command line arguments, you can type them in
when it offers the command line you want to use to run your program.

   </body></html>

