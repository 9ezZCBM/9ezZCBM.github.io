<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Sparse trees - The Org Manual</title>
<!--
This manual is for Org version 9.1.9.

Copyright (C) 2004--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Sparse-trees"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Plain-lists.html#Plain-lists">Plain lists</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Structure-editing.html#Structure-editing">Structure editing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Document-structure.html#Document-structure">Document structure</a>

</div>

<h3 class="section">2.6 Sparse trees</h3>

<p><a name="index-sparse-trees-171"></a><a name="index-trees_002c-sparse-172"></a><a name="index-folding_002c-sparse-trees-173"></a><a name="index-occur_002c-command-174"></a>
<a name="index-org_002dshow_002dcontext_002ddetail-175"></a>An important feature of Org mode is the ability to construct <em>sparse
trees</em> for selected information in an outline tree, so that the entire
document is folded as much as possible, but the selected information is made
visible along with the headline structure above it<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>.  Just try it out and you will see immediately how it
works.

   <p>Org mode contains several commands for creating such trees, all these
commands can be accessed through a dispatcher:

     
<a name="index-C_002dc-_002f-176"></a>
<a name="index-org_002dsparse_002dtree-177"></a>
<dl><dt><kbd>C-c /</kbd> &nbsp;&nbsp;&nbsp;&nbsp;(<code>org-sparse-tree</code>)<dd>
This prompts for an extra key to select a sparse-tree creating command. 
<a name="index-C_002dc-_002f-r-178"></a><a name="index-C_002dc-_002f-_002f-179"></a><a name="index-org_002doccur-180"></a><br><dt><kbd>C-c / r</kbd>  <span class="roman">or</span>  <kbd>C-c / /</kbd> &nbsp;&nbsp;&nbsp;&nbsp;(<code>org-occur</code>)<dd>
<a name="index-org_002dremove_002dhighlights_002dwith_002dchange-181"></a>Prompts for a regexp and shows a sparse tree with all matches.  If
the match is in a headline, the headline is made visible.  If the match is in
the body of an entry, headline and body are made visible.  In order to
provide minimal context, also the full hierarchy of headlines above the match
is shown, as well as the headline following the match.  Each match is also
highlighted; the highlights disappear when the buffer is changed by an
editing command<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>, or by pressing <kbd>C-c C-c</kbd>. 
When called with a <kbd>C-u</kbd> prefix argument, previous highlights are kept,
so several calls to this command can be stacked. 
<a name="index-M_002dg-n-182"></a><a name="index-M_002dg-M_002dn-183"></a><a name="index-next_002derror-184"></a><br><dt><kbd>M-g n</kbd>  <span class="roman">or</span>  <kbd>M-g M-n</kbd> &nbsp;&nbsp;&nbsp;&nbsp;(<code>next-error</code>)<dd>
Jump to the next sparse tree match in this buffer. 
<a name="index-M_002dg-p-185"></a><a name="index-M_002dg-M_002dp-186"></a><a name="index-previous_002derror-187"></a><br><dt><kbd>M-g p</kbd>  <span class="roman">or</span>  <kbd>M-g M-p</kbd> &nbsp;&nbsp;&nbsp;&nbsp;(<code>previous-error</code>)<dd>
Jump to the previous sparse tree match in this buffer. 
</dl>

<p class="noindent"><a name="index-org_002dagenda_002dcustom_002dcommands-188"></a>For frequently used sparse trees of specific search strings, you can
use the option <code>org-agenda-custom-commands</code> to define fast
keyboard access to specific sparse trees.  These commands will then be
accessible through the agenda dispatcher (see <a href="Agenda-dispatcher.html#Agenda-dispatcher">Agenda dispatcher</a>). 
For example:

<pre class="lisp">     (setq org-agenda-custom-commands
           '(("f" occur-tree "FIXME")))
</pre>
   <p class="noindent">will define the key <kbd>C-c a f</kbd> as a shortcut for creating
a sparse tree matching the string &lsquo;<samp><span class="samp">FIXME</span></samp>&rsquo;.

   <p>The other sparse tree commands select headings based on TODO keywords,
tags, or properties and will be discussed later in this manual.

   <p><a name="index-C_002dc-C_002de-C_002dv-189"></a><a name="index-printing-sparse-trees-190"></a><a name="index-visible-text_002c-printing-191"></a>To print a sparse tree, you can use the Emacs command
<code>ps-print-buffer-with-faces</code> which does not print invisible parts of the
document.  Or you can use <kbd>C-c C-e C-v</kbd> to export only the visible part
of the document and print the resulting file.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> See also the
variable <code>org-show-context-detail</code> to decide how much context is shown
around each match.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> This depends on the option
<code>org-remove-highlights-with-change</code></p>

   <hr></div>

   </body></html>

