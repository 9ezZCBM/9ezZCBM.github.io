<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>FAQ - CC Mode Manual</title>
<!--
This manual is for CC Mode in Emacs.

Copyright (C) 1995--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="FAQ"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Updating-CC-Mode.html#Updating-CC-Mode">Updating CC Mode</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Limitations-and-Known-Bugs.html#Limitations-and-Known-Bugs">Limitations and Known Bugs</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>

</div>

<!-- node-name, next, previous, up -->
<h2 class="appendix">Appendix D Frequently Asked Questions</h2>

<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
     <ul>
<li><em>How can I change the indent level from 4 spaces to 2 spaces?</em>

     <p>Set the variable <code>c-basic-offset</code>.  See <a href="Getting-Started.html#Getting-Started">Getting Started</a>.

     <li><a name="index-RET-652"></a><a name="index-C_002dj-653"></a><em>Why does/doesn't the </em><kbd>&lt;RET&gt;</kbd><em> key indent the new line?</em>

     <p>Emacs's convention used to be that <kbd>RET</kbd> just adds a newline, and that
<kbd>C-j</kbd> adds a newline and indents it.  In Emacs-24.4, this convention was
reversed.

     <p>If you use an older Emacs and you want <kbd>&lt;RET&gt;</kbd> do this
too, add this to your <code>c-initialization-hook</code>:

     <pre class="example">          (define-key c-mode-base-map "\C-m" 'c-context-line-break)
</pre>
     <p>See <a href="Getting-Started.html#Getting-Started">Getting Started</a>.  This was a very common question.

     <li><em>How do I get block comments in my C++ files?</em>

     <p>Interactively, change the comment style with <kbd>C-c C-k</kbd>. 
See <a href="Minor-Modes.html#Minor-Modes">Minor Modes</a>.

     <p>To configure this setting, say, for files within the gdb project, you
could amend your C++ Mode hook like this:

     <pre class="example">          (defun my-c++-mode-hook ()
            (if (string-match "/gdb/" (buffer-file-name))
                (c-toggle-comment-style 1)))
          (add-hook 'c++-mode-hook 'my-c++-mode-hook)
</pre>
     <li><em>How do I stop my C++ lambda expressions being indented way over
to the right?</em>

     <p>Change the offset associated with <code>inlambda</code> from its default,
the function <code>c-lineup-inexpr-block</code>, to 0.  For example, if you
are setting offsets in a hook function you might include the following
line:

     <pre class="example">          (c-set-offset 'inlambda 0)
</pre>
     <p>For details of the different ways you can make this setting,
<a href="Config-Basics.html#Config-Basics">Config Basics</a>.

     <li><em>How do I stop my code jumping all over the place when I type?</em>

     <p>Deactivate &ldquo;electric minor mode&rdquo; with <kbd>C-c C-l</kbd>.  See <a href="Getting-Started.html#Getting-Started">Getting Started</a>.

     <li><a name="index-C_002dx-h-654"></a><a name="index-C_002dM_002d_005c-655"></a><em>How do I reindent the whole file?</em>

     <p>Visit the file and hit <kbd>C-x h</kbd> to mark the whole buffer. Then hit
<kbd>C-M-\</kbd>.  See <a href="Indentation-Commands.html#Indentation-Commands">Indentation Commands</a>.

     <li><a name="index-C_002dM_002dq-656"></a><a name="index-C_002dM_002du-657"></a><em>How do I reindent the current block?</em>

     <p>First move to the brace which opens the block with <kbd>C-M-u</kbd>, then
reindent that expression with <kbd>C-M-q</kbd>.  See <a href="Indentation-Commands.html#Indentation-Commands">Indentation Commands</a>.

     <li><em>I put </em><code>(c-set-offset 'substatement-open 0)</code><em> in my
</em><samp><span class="file">.emacs</span></samp><em> file but I get an error saying that </em><code>c-set-offset</code><em>'s
function definition is void.  What's wrong?</em>

     <p>This means that CC Mode hasn't yet been loaded into your Emacs
session by the time the <code>c-set-offset</code> call is reached, most
likely because CC Mode is being autoloaded.  Instead of putting the
<code>c-set-offset</code> line in your top-level <samp><span class="file">.emacs</span></samp> file, put it
in your <code>c-initialization-hook</code> (see <a href="CC-Hooks.html#CC-Hooks">CC Hooks</a>), or simply
modify <code>c-offsets-alist</code> directly:

     <pre class="example">          (setq c-offsets-alist '((substatement-open . 0)))
</pre>
     <li><a name="index-open-paren-in-column-zero-658"></a><em>I have an open paren character at column zero inside a comment or
multiline string literal, and it causes the fontification and/or
indentation to go haywire.  What gives?</em>

     <p>It's due to the ad-hoc rule in (X)Emacs that such open parens always
start defuns (which translates to functions, classes, namespaces or any
other top-level block constructs in the CC Mode languages). 
See <a href="../emacs/Left-Margin-Paren.html#Left-Margin-Paren">Left Margin Paren</a>, for details
(See <a href="../emacs/Defuns.html#Defuns">Defuns</a>, in the Emacs 20 manual).

     <p>This heuristic is built into the core syntax analysis routines in
(X)Emacs, so it's not really a CC Mode issue.  However, in Emacs
21.1 it became possible to turn it off<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a> and CC Mode does so
there since it's got its own system to keep track of blocks.

</ul>

<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Using the variable
<code>open-paren-in-column-0-is-defun-start</code>.</p>

   <hr></div>

   </body></html>

