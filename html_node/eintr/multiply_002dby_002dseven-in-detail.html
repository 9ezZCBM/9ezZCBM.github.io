<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>multiply-by-seven in detail - Programming in Emacs Lisp</title>
<!--
This is an `Introduction to Programming in Emacs Lisp', for
people who are not programmers.

   Distributed with Emacs version 26.2.

   Copyright (C) 1990--1995, 1997, 2001--2019 Free Software
Foundation, Inc.



   Printed copies available from `https://shop.fsf.org/'. Published by:
     GNU Press,                        https://www.fsf.org/licensing/gnu-press/
     a division of the                 email: sales@fsf.org
     Free Software Foundation, Inc.    Tel: +1 (617) 542-5942
     51 Franklin Street, Fifth Floor   Fax: +1 (617) 542-2652
     Boston, MA 02110-1301 USA

   ISBN 1-882114-43-4

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; there being no Invariant Section, with the Front-Cover
     Texts being ``A GNU Manual'', and with the Back-Cover Texts as in
     (a) below.  A copy of the license is included in the section
     entitled ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="multiply-by-seven-in-detail"></a>
<a name="multiply_002dby_002dseven-in-detail"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Interactive-multiply_002dby_002dseven.html#Interactive-multiply_002dby_002dseven">Interactive multiply-by-seven</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Interactive.html#Interactive">Interactive</a>

</div>

<h4 class="subsection">3.3.1 An Interactive <code>multiply-by-seven</code></h4>

<p>Let's look at the use of the special form <code>interactive</code> and then at
the function <code>message</code> in the interactive version of
<code>multiply-by-seven</code>.  You will recall that the function definition
looks like this:

<pre class="smallexample">     (defun multiply-by-seven (number)       ; <span class="roman">Interactive version.</span>
       "Multiply NUMBER by seven."
       (interactive "p")
       (message "The result is %d" (* 7 number)))
</pre>
   <p>In this function, the expression, <code>(interactive "p")</code>, is a list of
two elements.  The <code>"p"</code> tells Emacs to pass the prefix argument to
the function and use its value for the argument of the function.

   <p>The argument will be a number.  This means that the symbol
<code>number</code> will be bound to a number in the line:

<pre class="smallexample">     (message "The result is %d" (* 7 number))
</pre>
   <p class="noindent">For example, if your prefix argument is 5, the Lisp interpreter will
evaluate the line as if it were:

<pre class="smallexample">     (message "The result is %d" (* 7 5))
</pre>
   <p class="noindent">(If you are reading this in GNU Emacs, you can evaluate this expression
yourself.)  First, the interpreter will evaluate the inner list, which
is <code>(* 7 5)</code>.  This returns a value of 35.  Next, it
will evaluate the outer list, passing the values of the second and
subsequent elements of the list to the function <code>message</code>.

   <p>As we have seen, <code>message</code> is an Emacs Lisp function especially
designed for sending a one line message to a user.  (See <a href="message.html#message">The <code>message</code> function</a>.)  In summary, the <code>message</code>
function prints its first argument in the echo area as is, except for
occurrences of &lsquo;<samp><span class="samp">%d</span></samp>&rsquo; or &lsquo;<samp><span class="samp">%s</span></samp>&rsquo; (and various other %-sequences
which we have not mentioned).  When it sees a control sequence, the
function looks to the second or subsequent arguments and prints the
value of the argument in the location in the string where the control
sequence is located.

   <p>In the interactive <code>multiply-by-seven</code> function, the control string
is &lsquo;<samp><span class="samp">%d</span></samp>&rsquo;, which requires a number, and the value returned by
evaluating <code>(* 7 5)</code> is the number 35.  Consequently, the number 35
is printed in place of the &lsquo;<samp><span class="samp">%d</span></samp>&rsquo; and the message is &lsquo;<samp><span class="samp">The result
is 35</span></samp>&rsquo;.

   <p>(Note that when you call the function <code>multiply-by-seven</code>, the
message is printed without quotes, but when you call <code>message</code>, the
text is printed in double quotes.  This is because the value returned by
<code>message</code> is what appears in the echo area when you evaluate an
expression whose first element is <code>message</code>; but when embedded in a
function, <code>message</code> prints the text as a side effect without
quotes.)

   </body></html>

