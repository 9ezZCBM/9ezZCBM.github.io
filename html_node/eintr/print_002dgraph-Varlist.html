<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>print-graph Varlist - Programming in Emacs Lisp</title>
<!--
This is an `Introduction to Programming in Emacs Lisp', for
people who are not programmers.

   Distributed with Emacs version 26.2.

   Copyright (C) 1990--1995, 1997, 2001--2019 Free Software
Foundation, Inc.



   Printed copies available from `https://shop.fsf.org/'. Published by:
     GNU Press,                        https://www.fsf.org/licensing/gnu-press/
     a division of the                 email: sales@fsf.org
     Free Software Foundation, Inc.    Tel: +1 (617) 542-5942
     51 Franklin Street, Fifth Floor   Fax: +1 (617) 542-2652
     Boston, MA 02110-1301 USA

   ISBN 1-882114-43-4

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; there being no Invariant Section, with the Front-Cover
     Texts being ``A GNU Manual'', and with the Back-Cover Texts as in
     (a) below.  A copy of the license is included in the section
     entitled ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="print-graph-Varlist"></a>
<a name="print_002dgraph-Varlist"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="print_002dY_002daxis.html#print_002dY_002daxis">print-Y-axis</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Labeled-Example.html#Labeled-Example">Labeled Example</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Full-Graph.html#Full-Graph">Full Graph</a>

</div>

<h3 class="appendixsec">C.1 The <code>print-graph</code> Varlist</h3>

<p><a name="index-g_t_0040code_007bprint_002dgraph_007d-varlist-374"></a>
In writing the <code>print-graph</code> function, the first task is to write
the varlist in the <code>let</code> expression.  (We will leave aside for the
moment any thoughts about making the function interactive or about the
contents of its documentation string.)

   <p>The varlist should set several values.  Clearly, the top of the label
for the vertical axis must be at least the height of the graph, which
means that we must obtain this information here.  Note that the
<code>print-graph-body</code> function also requires this information.  There
is no reason to calculate the height of the graph in two different
places, so we should change <code>print-graph-body</code> from the way we
defined it earlier to take advantage of the calculation.

   <p>Similarly, both the function for printing the X axis labels and the
<code>print-graph-body</code> function need to learn the value of the width of
each symbol.  We can perform the calculation here and change the
definition for <code>print-graph-body</code> from the way we defined it in the
previous chapter.

   <p>The length of the label for the horizontal axis must be at least as long
as the graph.  However, this information is used only in the function
that prints the horizontal axis, so it does not need to be calculated here.

   <p>These thoughts lead us directly to the following form for the varlist
in the <code>let</code> for <code>print-graph</code>:

<pre class="smallexample">     (let ((height (apply 'max numbers-list)) ; <span class="roman">First version.</span>
           (symbol-width (length graph-blank)))
</pre>
   <p class="noindent">As we shall see, this expression is not quite right.

   </body></html>

