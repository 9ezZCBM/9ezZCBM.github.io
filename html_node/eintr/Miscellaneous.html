<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Miscellaneous - Programming in Emacs Lisp</title>
<!--
This is an `Introduction to Programming in Emacs Lisp', for
people who are not programmers.

   Distributed with Emacs version 26.2.

   Copyright (C) 1990--1995, 1997, 2001--2019 Free Software
Foundation, Inc.



   Printed copies available from `https://shop.fsf.org/'. Published by:
     GNU Press,                        https://www.fsf.org/licensing/gnu-press/
     a division of the                 email: sales@fsf.org
     Free Software Foundation, Inc.    Tel: +1 (617) 542-5942
     51 Franklin Street, Fifth Floor   Fax: +1 (617) 542-2652
     Boston, MA 02110-1301 USA

   ISBN 1-882114-43-4

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; there being no Invariant Section, with the Front-Cover
     Texts being ``A GNU Manual'', and with the Back-Cover Texts as in
     (a) below.  A copy of the license is included in the section
     entitled ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Miscellaneous"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Mode-Line.html#Mode-Line">Mode Line</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="X11-Colors.html#X11-Colors">X11 Colors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Emacs-Initialization.html#Emacs-Initialization">Emacs Initialization</a>

</div>

<h3 class="section">16.13 Miscellaneous Settings for a <samp><span class="file">.emacs</span></samp> File</h3>

<p>Here are a few miscellaneous settings:
   <pre class="sp">

</pre>
     <ul>
<li>Set the shape and color of the mouse cursor:

     <pre class="smallexample">          ; Cursor shapes are defined in
          ; '/usr/include/X11/cursorfont.h';
          ; for example, the 'target' cursor is number 128;
          ; the 'top_left_arrow' cursor is number 132.
          
          (let ((mpointer (x-get-resource "*mpointer"
                                          "*emacs*mpointer")))
            ;; If you have not set your mouse pointer
            ;;     then set it, otherwise leave as is:
            (if (eq mpointer nil)
                (setq mpointer "132")) ; top_left_arrow
            (setq x-pointer-shape (string-to-number mpointer))
            (set-mouse-color "white"))
</pre>
     <li>Or you can set the values of a variety of features in an alist, like
this:

     <pre class="smallexample">          (setq-default
           default-frame-alist
           '((cursor-color . "white")
             (mouse-color . "white")
             (foreground-color . "white")
             (background-color . "DodgerBlue4")
             ;; (cursor-type . bar)
             (cursor-type . box)
             (tool-bar-lines . 0)
             (menu-bar-lines . 1)
             (width . 80)
             (height . 58)
             (font .
                   "-Misc-Fixed-Medium-R-Normal--20-200-75-75-C-100-ISO8859-1")
             ))
</pre>
     <li>Convert <kbd>&lt;CTRL&gt;-h</kbd> into &lt;DEL&gt; and &lt;DEL&gt;
into <kbd>&lt;CTRL&gt;-h</kbd>.<br>
(Some older keyboards needed this, although I have not seen the
problem recently.)

     <pre class="smallexample">          ;; Translate 'C-h' to &lt;DEL&gt;.
          ; (keyboard-translate ?\C-h ?\C-?)
          
          ;; Translate &lt;DEL&gt; to 'C-h'.
          (keyboard-translate ?\C-? ?\C-h)
</pre>
     <li>Turn off a blinking cursor!

     <pre class="smallexample">          (if (fboundp 'blink-cursor-mode)
              (blink-cursor-mode -1))
</pre>
     <p class="noindent">or start GNU Emacs with the command <code>emacs -nbc</code>.

     <li>When using <samp><span class="command">grep</span></samp><br>
&lsquo;<samp><span class="samp">-i</span></samp>&rsquo;&nbsp;&nbsp;<!-- /@w -->   Ignore case distinctions<br>
&lsquo;<samp><span class="samp">-n</span></samp>&rsquo;&nbsp;&nbsp;<!-- /@w -->   Prefix each line of output with line number<br>
&lsquo;<samp><span class="samp">-H</span></samp>&rsquo;&nbsp;&nbsp;<!-- /@w -->   Print the filename for each match.<br>
&lsquo;<samp><span class="samp">-e</span></samp>&rsquo;&nbsp;&nbsp;<!-- /@w -->   Protect patterns beginning with a hyphen character, &lsquo;<samp><span class="samp">-</span></samp>&rsquo;

     <pre class="smallexample">          (setq grep-command "grep -i -nH -e ")
</pre>
     <li>Find an existing buffer, even if it has a different name<br>
This avoids problems with symbolic links.

     <pre class="smallexample">          (setq find-file-existing-other-name t)
</pre>
     <li>Set your language environment and default input method

     <pre class="smallexample">          (set-language-environment "latin-1")
          ;; Remember you can enable or disable multilingual text input
          ;; with the <code>toggle-input-method'</code> (<kbd>C-\</kbd>) command
          (setq default-input-method "latin-1-prefix")
</pre>
     <p>If you want to write with Chinese GB characters, set this instead:

     <pre class="smallexample">          (set-language-environment "Chinese-GB")
          (setq default-input-method "chinese-tonepy")
</pre>
     </ul>

<h5 class="subsubheading">Fixing Unpleasant Key Bindings</h5>

<p><a name="index-Key-bindings_002c-fixing-346"></a><a name="index-Bindings_002c-key_002c-fixing-unpleasant-347"></a>
Some systems bind keys unpleasantly.  Sometimes, for example, the
&lt;CTRL&gt; key appears in an awkward spot rather than at the far left
of the home row.

   <p>Usually, when people fix these sorts of keybindings, they do not
change their <samp><span class="file">~/.emacs</span></samp> file.  Instead, they bind the proper keys
on their consoles with the <code>loadkeys</code> or <code>install-keymap</code>
commands in their boot script and then include <code>xmodmap</code> commands
in their <samp><span class="file">.xinitrc</span></samp> or <samp><span class="file">.Xsession</span></samp> file for X Windows.

<p class="noindent">For a boot script:

<pre class="smallexample">     loadkeys /usr/share/keymaps/i386/qwerty/emacs2.kmap.gz
<br>or<br>
     install-keymap emacs2
</pre>
   <p class="noindent">For a <samp><span class="file">.xinitrc</span></samp> or <samp><span class="file">.Xsession</span></samp> file when the &lt;Caps
Lock&gt; key is at the far left of the home row:

<pre class="smallexample">     # Bind the key labeled 'Caps Lock' to 'Control'
     # (Such a broken user interface suggests that keyboard manufacturers
     # think that computers are typewriters from 1885.)
     
     xmodmap -e "clear Lock"
     xmodmap -e "add Control = Caps_Lock"
</pre>
   <p class="noindent">In a <samp><span class="file">.xinitrc</span></samp> or <samp><span class="file">.Xsession</span></samp> file, to convert an &lt;ALT&gt;
key to a &lt;META&gt; key:

<pre class="smallexample">     # Some ill designed keyboards have a key labeled ALT and no Meta
     xmodmap -e "keysym Alt_L = Meta_L Alt_L"
</pre>
   </body></html>

