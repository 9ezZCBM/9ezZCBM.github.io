<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Window Choice - GNU Emacs Manual</title>
<!--
This is the `GNU Emacs Manual',
updated for Emacs version 26.2.

Copyright (C) 1985--1987, 1993--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover Texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Window-Choice"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Temporary-Displays.html#Temporary-Displays">Temporary Displays</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Displaying-Buffers.html#Displaying-Buffers">Displaying Buffers</a>

</div>

<h4 class="subsection">20.6.1 How <code>display-buffer</code> works</h4>

<p><a name="index-display_002dbuffer_0040r_007b_002c-detailed-description_007d-1614"></a>
The <code>display-buffer</code> command (as well as commands that call it
internally) chooses a window to display by following the steps given
below.  See <a href="../elisp/Choosing-Window.html#Choosing-Window">Choosing a Window for Displaying a Buffer</a>, for details about how
to alter this sequence of steps.

     <ul>
<li>If the buffer should be displayed in the selected window regardless of
other considerations, reuse the selected window.  By default, this
step is skipped, but you can tell Emacs not to skip it by adding a
regular expression matching the buffer's name together with a
reference to the <code>display-buffer-same-window</code> action function
(see <a href="../elisp/Buffer-Display-Action-Functions.html#Buffer-Display-Action-Functions">Action Functions for Buffer Display</a>) to the option
<code>display-buffer-alist</code> (see <a href="../elisp/Choosing-Window.html#Choosing-Window">Choosing a Window for Displaying a Buffer</a>). 
For example, to display the buffer <samp><span class="file">*scratch*</span></samp> preferably in the
selected window write:

     <pre class="example">          (customize-set-variable
           'display-buffer-alist
           '("\\*scratch\\*" (display-buffer-same-window)))
</pre>
     <p>By default, <code>display-buffer-alist</code> is <code>nil</code>.

     <li>Otherwise, if the buffer is already displayed in an existing window,
reuse that window.  Normally, only windows on the selected frame are
considered, but windows on other frames are also reusable if you use
the corresponding <code>reusable-frames</code> action alist entry
(see <a href="../elisp/Buffer-Display-Action-Alists.html#Buffer-Display-Action-Alists">Action Alists for Buffer Display</a>).  See the
next step for an example of how to do that.

     <li>Otherwise, optionally create a new frame and display the buffer there. 
By default, this step is skipped.  To enable it, change the value of
the option <code>display-buffer-base-action</code> (see <a href="../elisp/Choosing-Window.html#Choosing-Window">Choosing a Window for Displaying a Buffer</a>) as follows:

     <pre class="example">          (customize-set-variable
           'display-buffer-base-action
           '((display-buffer-reuse-window display-buffer-pop-up-frame)
             (reusable-frames . 0)))
</pre>
     <p>This customization will also try to make the preceding step search for
a reusable window on all visible or iconified frames.

     <li>Otherwise, try to create a new window by splitting a window on the
selected frame, and display the buffer in that new window.

     <p><a name="index-split_002dheight_002dthreshold-1615"></a><a name="index-split_002dwidth_002dthreshold-1616"></a>The split can be either vertical or horizontal, depending on the
variables <code>split-height-threshold</code> and
<code>split-width-threshold</code>.  These variables should have integer
values.  If <code>split-height-threshold</code> is smaller than the chosen
window's height, the split puts the new window below.  Otherwise, if
<code>split-width-threshold</code> is smaller than the window's width, the
split puts the new window on the right.  If neither condition holds,
Emacs tries to split so that the new window is below&mdash;but only if the
window was not split before (to avoid excessive splitting).

     <li>Otherwise, display the buffer in a window previously showing it. 
Normally, only windows on the selected frame are considered, but with
a suitable <code>reusable-frames</code> action alist entry (see above) the
window may be also on another frame.

     <li>Otherwise, display the buffer in an existing window on the selected
frame.

     <li>If all the above methods fail for whatever reason, create a new frame
and display the buffer there. 
</ul>

   </body></html>

