<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Options for Comments - GNU Emacs Manual</title>
<!--
This is the `GNU Emacs Manual',
updated for Emacs version 26.2.

Copyright (C) 1985--1987, 1993--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover Texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Options-for-Comments"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Multi_002dLine-Comments.html#Multi_002dLine-Comments">Multi-Line Comments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Comments.html#Comments">Comments</a>

</div>

<h4 class="subsection">26.5.3 Options Controlling Comments</h4>

<p><a name="index-comment_002dcolumn-2642"></a><a name="index-comment_002dfill_002dcolumn-2643"></a><a name="index-C_002dx-_003b-2644"></a><a name="index-comment_002dset_002dcolumn-2645"></a>  As mentioned in <a href="Comment-Commands.html#Comment-Commands">Comment Commands</a>, when the <kbd>M-j</kbd> command
adds a comment to a line, it tries to place the comment between the
columns specified by the buffer-local variables <code>comment-column</code>
and <code>comment-fill-column</code> (or if that is <code>nil</code>, then the
value of <code>fill-column</code>, see <a href="Fill-Commands.html#Fill-Commands">Fill Commands</a>).  You can set
either the local value or the default value of these buffer-local
variables in the usual way (see <a href="Locals.html#Locals">Locals</a>).  Alternatively, you can
type <kbd>C-x ;</kbd> (<code>comment-set-column</code>) to set the value of
<code>comment-column</code> in the current buffer to the column where point
is currently located.  <kbd>C-u C-x ;</kbd> sets the comment column to
match the last comment before point in the buffer, and then does a
<kbd>M-;</kbd> to align the current line's comment under the previous one.

   <p><a name="index-comment_002dstart_002dskip-2646"></a>  The comment commands recognize comments based on the regular
expression that is the value of the variable <code>comment-start-skip</code>. 
Make sure this regexp does not match the null string.  It may match more
than the comment starting delimiter in the strictest sense of the word;
for example, in C mode the value of the variable is
<!-- This stops M-q from breaking the line inside that @code. -->
<code>"\\(//+\\|/\\*+\\)\\s&nbsp;*"<!-- /@w --></code>, which matches extra stars and
spaces after the &lsquo;<samp><span class="samp">/*</span></samp>&rsquo; itself, and accepts C++ style comments
also.  (Note that &lsquo;<samp><span class="samp">\\</span></samp>&rsquo; is needed in Lisp syntax to include a
&lsquo;<samp><span class="samp">\</span></samp>&rsquo; in the string, which is needed to deny the first star its
special meaning in regexp syntax.  See <a href="Regexp-Backslash.html#Regexp-Backslash">Regexp Backslash</a>.)

   <p><a name="index-comment_002dstart-2647"></a><a name="index-comment_002dend-2648"></a>  When a comment command makes a new comment, it inserts the value of
<code>comment-start</code> as an opening comment delimiter.  It also inserts
the value of <code>comment-end</code> after point, as a closing comment
delimiter.  For example, in Lisp mode, <code>comment-start</code> is
&lsquo;<samp><span class="samp">";"</span></samp>&rsquo; and <code>comment-end</code> is <code>""</code> (the empty string).  In
C mode, <code>comment-start</code> is <code>"/* "</code> and <code>comment-end</code> is
<code>" */"</code>.

   <p><a name="index-comment_002dpadding-2649"></a>  The variable <code>comment-padding</code> specifies a string that the
commenting commands should insert between the comment delimiter(s) and
the comment text.  The default, &lsquo;<samp><span class="samp">" "</span></samp>&rsquo;, specifies a single space. 
Alternatively, the value can be a number, which specifies that number
of spaces, or <code>nil</code>, which means no spaces at all.

   <p>The variable <code>comment-multi-line</code> controls how <kbd>M-j</kbd> and
Auto Fill mode continue comments over multiple lines. 
See <a href="Multi_002dLine-Comments.html#Multi_002dLine-Comments">Multi-Line Comments</a>.

   <p><a name="index-comment_002dindent_002dfunction-2650"></a>  The variable <code>comment-indent-function</code> should contain a function
that will be called to compute the alignment for a newly inserted
comment or for aligning an existing comment.  It is set differently by
various major modes.  The function is called with no arguments, but with
point at the beginning of the comment, or at the end of a line if a new
comment is to be inserted.  It should return the column in which the
comment ought to start.  For example, the default function bases its
decision on how many comment characters begin an existing comment.

   <p>Emacs also tries to align comments on adjacent lines.  To override
this, the function may return a cons of two (possibly equal) integers
to indicate an acceptable range of indentation.

   </body></html>

