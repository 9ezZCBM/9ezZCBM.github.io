<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Running Tests Interactively - Emacs Lisp Regression Testing</title>
<!--
Copyright (C) 2008, 2010--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Running-Tests-Interactively"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Running-Tests-in-Batch-Mode.html#Running-Tests-in-Batch-Mode">Running Tests in Batch Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="How-to-Run-Tests.html#How-to-Run-Tests">How to Run Tests</a>

</div>

<h3 class="section">2.1 Running Tests Interactively</h3>

<p><a name="index-running-tests-interactively-3"></a><a name="index-interactive-testing-4"></a>
<a name="index-ert-5"></a>You can run the tests that are currently defined in your Emacs with
the command <kbd>M-x ert &lt;RET&gt; t &lt;RET&gt;</kbd>.  (For an
explanation of the <code>t</code> argument, see <a href="Test-Selectors.html#Test-Selectors">Test Selectors</a>.) ERT will pop
up a new buffer, the ERT results buffer, showing the results of the
tests run.  It looks like this:

<pre class="example">     Selector: t
     Passed:  31
     Skipped: 0
     Failed:  2 (2 unexpected)
     Total:   33/33
     
     Started at:   2008-09-11 08:39:25-0700
     Finished.
     Finished at:  2008-09-11 08:39:27-0700
     
     FF...............................
     
     F addition-test
         (ert-test-failed
          ((should
            (=
             (+ 1 2)
             4))
           :form
           (= 3 4)
           :value nil))
     
     F list-test
         (ert-test-failed
          ((should
            (equal
             (list 'a 'b 'c)
             '(a b d)))
           :form
           (equal
            (a b c)
            (a b d))
           :value nil :explanation
           (list-elt 2
                     (different-atoms c d))))
</pre>
   <p><a name="index-test-results-buffer-6"></a>At the top, there is a summary of the results: we ran all tests defined
in the current Emacs (<code>Selector: t</code>), 31 of them passed, and 2
failed unexpectedly.  See <a href="Expected-Failures.html#Expected-Failures">Expected Failures</a>, for an explanation of
the term <em>unexpected</em> in this context.

   <p>The line of dots and <code>F</code>s is a progress bar where each character
represents one test; it fills while the tests are running.  A dot
means that the test passed, an <code>F</code> means that it failed.  Below
the progress bar, ERT shows details about each test that had an
unexpected result.  In the example above, there are two failures, both
due to failed <code>should</code> forms.  See <a href="Understanding-Explanations.html#Understanding-Explanations">Understanding Explanations</a>,
for more details.

   <p><a name="index-TAB_0040r_007b_002c-in-ert-results-buffer_007d-7"></a><a name="index-S_002dTAB_0040r_007b_002c-in-ert-results-buffer_007d-8"></a>In the ERT results buffer, <kbd>&lt;TAB&gt;</kbd> and <kbd>S-&lt;TAB&gt;</kbd> cycle between
buttons.  Each name of a function or macro in this buffer is a button;
moving point to it and typing <kbd>&lt;RET&gt;</kbd> jumps to its definition.

   <p><a name="index-r_0040r_007b_002c-in-ert-results-buffer_007d-9"></a><a name="index-d_0040r_007b_002c-in-ert-results-buffer_007d-10"></a><a name="index-g_t_002e_0040r_007b_002c-in-ert-results-buffer_007d-11"></a><a name="index-b_0040r_007b_002c-in-ert-results-buffer_007d-12"></a><a name="index-backtrace-of-a-failed-test-13"></a>Pressing <kbd>r</kbd> re-runs the test near point on its own.  Pressing
<kbd>d</kbd> re-runs it with the debugger enabled.  <kbd>.</kbd> jumps to the
definition of the test near point (<kbd>&lt;RET&gt;</kbd> has the same effect if
point is on the name of the test).  On a failed test, <kbd>b</kbd> shows
the backtrace of the failure.

   <p><a name="index-l_0040r_007b_002c-in-ert-results-buffer_007d-14"></a><kbd>l</kbd> shows the list of <code>should</code> forms executed in the test. 
If any messages were generated (with the Lisp function <code>message</code>)
in a test or any of the code that it invoked, <kbd>m</kbd> will show them.

   <p><a name="index-L_0040r_007b_002c-in-ert-results-buffer_007d-15"></a>By default, long expressions in the failure details are abbreviated
using <code>print-length</code> and <code>print-level</code>.  Pressing <kbd>L</kbd>
while point is on a test failure will increase the limits to show more
of the expression.

   </body></html>

