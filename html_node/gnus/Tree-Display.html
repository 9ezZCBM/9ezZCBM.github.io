<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Tree Display - Gnus Manual</title>
<!--
Copyright (C) 1995--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Tree-Display"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Mail-Group-Commands.html#Mail-Group-Commands">Mail Group Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Alternative-Approaches.html#Alternative-Approaches">Alternative Approaches</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Summary-Buffer.html#Summary-Buffer">Summary Buffer</a>

</div>

<h3 class="section">3.25 Tree Display</h3>

<p><a name="index-trees-1566"></a>
<a name="index-gnus_002duse_002dtrees-1567"></a>If you don't like the normal Gnus summary display, you might try setting
<code>gnus-use-trees</code> to <code>t</code>.  This will create (by default) an
additional <dfn>tree buffer</dfn>.  You can execute all summary mode commands
in the tree buffer.

   <p>There are a few variables to customize the tree display, of course:

     <dl>
<dt><code>gnus-tree-mode-hook</code><dd><a name="index-gnus_002dtree_002dmode_002dhook-1568"></a>A hook called in all tree mode buffers.

     <br><dt><code>gnus-tree-mode-line-format</code><dd><a name="index-gnus_002dtree_002dmode_002dline_002dformat-1569"></a>A format string for the mode bar in the tree mode buffers (see <a href="Mode-Line-Formatting.html#Mode-Line-Formatting">Mode Line Formatting</a>).  The default is &lsquo;<samp><span class="samp">Gnus: %%b %S %Z</span></samp>&rsquo;.  For a list
of valid specs, see <a href="Summary-Buffer-Mode-Line.html#Summary-Buffer-Mode-Line">Summary Buffer Mode Line</a>.

     <br><dt><code>gnus-selected-tree-face</code><dd><a name="index-gnus_002dselected_002dtree_002dface-1570"></a>Face used for highlighting the selected article in the tree buffer.  The
default is <code>modeline</code>.

     <br><dt><code>gnus-tree-line-format</code><dd><a name="index-gnus_002dtree_002dline_002dformat-1571"></a>A format string for the tree nodes.  The name is a bit of a misnomer,
though&mdash;it doesn't define a line, but just the node.  The default value
is &lsquo;<samp><span class="samp">%(%[%3,3n%]%)</span></samp>&rsquo;, which displays the first three characters of
the name of the poster.  It is vital that all nodes are of the same
length, so you <em>must</em> use &lsquo;<samp><span class="samp">%4,4n</span></samp>&rsquo;-like specifiers.

     <p>Valid specs are:

          <dl>
<dt>&lsquo;<samp><span class="samp">n</span></samp>&rsquo;<dd>The name of the poster. 
<br><dt>&lsquo;<samp><span class="samp">f</span></samp>&rsquo;<dd>The <code>From</code> header. 
<br><dt>&lsquo;<samp><span class="samp">N</span></samp>&rsquo;<dd>The number of the article. 
<br><dt>&lsquo;<samp><span class="samp">[</span></samp>&rsquo;<dd>The opening bracket. 
<br><dt>&lsquo;<samp><span class="samp">]</span></samp>&rsquo;<dd>The closing bracket. 
<br><dt>&lsquo;<samp><span class="samp">s</span></samp>&rsquo;<dd>The subject. 
</dl>

     <p>See <a href="Formatting-Variables.html#Formatting-Variables">Formatting Variables</a>.

     <p>Variables related to the display are:

          <dl>
<dt><code>gnus-tree-brackets</code><dd><a name="index-gnus_002dtree_002dbrackets-1572"></a>This is used for differentiating between &ldquo;real&rdquo; articles and
&ldquo;sparse&rdquo; articles.  The format is
          <pre class="example">               ((<var>real-open</var> . <var>real-close</var>)
                (<var>sparse-open</var> . <var>sparse-close</var>)
                (<var>dummy-open</var> . <var>dummy-close</var>))
</pre>
          <p>and the default is <code>((?[ . ?]) (?( . ?)) (?{ . ?}) (?&lt; . ?&gt;))</code>.

          <br><dt><code>gnus-tree-parent-child-edges</code><dd><a name="index-gnus_002dtree_002dparent_002dchild_002dedges-1573"></a>This is a list that contains the characters used for connecting parent
nodes to their children.  The default is <code>(?- ?\\ ?|)</code>.

     </dl>

     <br><dt><code>gnus-tree-minimize-window</code><dd><a name="index-gnus_002dtree_002dminimize_002dwindow-1574"></a>If this variable is non-<code>nil</code>, Gnus will try to keep the tree
buffer as small as possible to allow more room for the other Gnus
windows.  If this variable is a number, the tree buffer will never be
higher than that number.  The default is <code>t</code>.  Note that if you
have several windows displayed side-by-side in a frame and the tree
buffer is one of these, minimizing the tree window will also resize all
other windows displayed next to it.

     <p>You may also wish to add the following hook to keep the window minimized
at all times:

     <pre class="lisp">          (add-hook 'gnus-configure-windows-hook
                    'gnus-tree-perhaps-minimize)
</pre>
     <br><dt><code>gnus-generate-tree-function</code><dd><a name="index-gnus_002dgenerate_002dtree_002dfunction-1575"></a><a name="index-gnus_002dgenerate_002dhorizontal_002dtree-1576"></a><a name="index-gnus_002dgenerate_002dvertical_002dtree-1577"></a>The function that actually generates the thread tree.  Two predefined
functions are available: <code>gnus-generate-horizontal-tree</code> and
<code>gnus-generate-vertical-tree</code> (which is the default).

   </dl>

   <p>Here's an example from a horizontal tree buffer:

<pre class="example">     {***}-(***)-[odd]-[Gun]
          |      \[Jan]
          |      \[odd]-[Eri]
          |      \(***)-[Eri]
          |            \[odd]-[Paa]
          \[Bjo]
          \[Gun]
          \[Gun]-[Jor]
</pre>
   <p>Here's the same thread displayed in a vertical tree buffer:

<pre class="example">     {***}
       |--------------------------\-----\-----\
     (***)                         [Bjo] [Gun] [Gun]
       |--\-----\-----\                          |
     [odd] [Jan] [odd] (***)                   [Jor]
       |           |     |--\
     [Gun]       [Eri] [Eri] [odd]
                               |
                             [Paa]
</pre>
   <p>If you're using horizontal trees, it might be nice to display the trees
side-by-side with the summary buffer.  You could add something like the
following to your <samp><span class="file">~/.gnus.el</span></samp> file:

<pre class="lisp">     (setq gnus-use-trees t
           gnus-generate-tree-function 'gnus-generate-horizontal-tree
           gnus-tree-minimize-window nil)
     (gnus-add-configuration
      '(article
        (vertical 1.0
                  (horizontal 0.25
                              (summary 0.75 point)
                              (tree 1.0))
                  (article 1.0))))
</pre>
   <p>See <a href="Window-Layout.html#Window-Layout">Window Layout</a>.

   </body></html>

