<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Mail Spool - Gnus Manual</title>
<!--
Copyright (C) 1995--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Mail-Spool"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="MH-Spool.html#MH-Spool">MH Spool</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Babyl.html#Babyl">Babyl</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Choosing-a-Mail-Back-End.html#Choosing-a-Mail-Back-End">Choosing a Mail Back End</a>

</div>

<h5 class="subsubsection">6.4.13.3 Mail Spool</h5>

<p><a name="index-nnml-2181"></a><a name="index-mail-_0040acronym_007bNOV_007d-spool-2182"></a>
The <dfn>nnml</dfn> spool mail format isn't compatible with any other known
format.  It should be used with some caution.

   <p><a name="index-nnml_002ddirectory-2183"></a>If you use this back end, Gnus will split all incoming mail into files,
one file for each mail, and put the articles into the corresponding
directories under the directory specified by the <code>nnml-directory</code>
variable.  The default value is <samp><span class="file">~/Mail/</span></samp>.

   <p>You do not have to create any directories beforehand; Gnus will take
care of all that.

   <p>If you have a strict limit as to how many files you are allowed to store
in your account, you should not use this back end.  As each mail gets its
own file, you might very well occupy thousands of inodes within a few
weeks.  If this is no problem for you, and it isn't a problem for you
having your friendly systems administrator walking around, madly,
shouting &ldquo;Who is eating all my inodes?! Who? Who!?!&rdquo;, then you should
know that this is probably the fastest format to use.  You do not have
to trudge through a big mbox file just to read your new mail.

   <p><code>nnml</code> is probably the slowest back end when it comes to article
splitting.  It has to create lots of files, and it also generates
<acronym>NOV</acronym> databases for the incoming mails.  This makes it possibly the
fastest back end when it comes to reading mail.

   <p>Virtual server settings:

     <dl>
<dt><code>nnml-directory</code><dd><a name="index-nnml_002ddirectory-2184"></a>All <code>nnml</code> directories will be placed under this directory.  The
default is the value of <code>message-directory</code> (whose default value
is <samp><span class="file">~/Mail</span></samp>).

     <br><dt><code>nnml-active-file</code><dd><a name="index-nnml_002dactive_002dfile-2185"></a>The active file for the <code>nnml</code> server.  The default is
<samp><span class="file">~/Mail/active</span></samp>.

     <br><dt><code>nnml-newsgroups-file</code><dd><a name="index-nnml_002dnewsgroups_002dfile-2186"></a>The <code>nnml</code> group descriptions file.  See <a href="Newsgroups-File-Format.html#Newsgroups-File-Format">Newsgroups File Format</a>.  The default is <samp><span class="file">~/Mail/newsgroups</span></samp>.

     <br><dt><code>nnml-get-new-mail</code><dd><a name="index-nnml_002dget_002dnew_002dmail-2187"></a>If non-<code>nil</code>, <code>nnml</code> will read incoming mail.  The default is
<code>t</code>.

     <br><dt><code>nnml-nov-is-evil</code><dd><a name="index-nnml_002dnov_002dis_002devil-2188"></a>If non-<code>nil</code>, this back end will ignore any <acronym>NOV</acronym> files.  The
default is <code>nil</code>.

     <br><dt><code>nnml-nov-file-name</code><dd><a name="index-nnml_002dnov_002dfile_002dname-2189"></a>The name of the <acronym>NOV</acronym> files.  The default is <samp><span class="file">.overview</span></samp>.

     <br><dt><code>nnml-prepare-save-mail-hook</code><dd><a name="index-nnml_002dprepare_002dsave_002dmail_002dhook-2190"></a>Hook run narrowed to an article before saving.

     <br><dt><code>nnml-use-compressed-files</code><dd><a name="index-nnml_002duse_002dcompressed_002dfiles-2191"></a>If non-<code>nil</code>, <code>nnml</code> will allow using compressed message
files.  This requires <code>auto-compression-mode</code> to be enabled
(see <a href="../emacs/Compressed-Files.html#Compressed-Files">Compressed Files</a>). 
If the value of <code>nnml-use-compressed-files</code> is a string, it is used
as the file extension specifying the compression program.  You can set it
to &lsquo;<samp><span class="samp">.bz2</span></samp>&rsquo; if your Emacs supports it.  A value of <code>t</code> is
equivalent to &lsquo;<samp><span class="samp">.gz</span></samp>&rsquo;.

     <br><dt><code>nnml-compressed-files-size-threshold</code><dd><a name="index-nnml_002dcompressed_002dfiles_002dsize_002dthreshold-2192"></a>Default size threshold for compressed message files.  Message files with
bodies larger than that many characters will be automatically compressed
if <code>nnml-use-compressed-files</code> is non-<code>nil</code>.

   </dl>

   <p><a name="index-nnml_002dgenerate_002dnov_002ddatabases-2193"></a>If your <code>nnml</code> groups and <acronym>NOV</acronym> files get totally out of
whack, you can do a complete update by typing <kbd>M-x
nnml-generate-nov-databases</kbd>.  This command will trawl through the
entire <code>nnml</code> hierarchy, looking at each and every article, so it
might take a while to complete.  A better interface to this
functionality can be found in the server buffer (see <a href="Server-Commands.html#Server-Commands">Server Commands</a>).

   </body></html>

