<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Charsets - Gnus Manual</title>
<!--
Copyright (C) 1995--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Charsets"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Article-Commands.html#Article-Commands">Article Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="MIME-Commands.html#MIME-Commands">MIME Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Summary-Buffer.html#Summary-Buffer">Summary Buffer</a>

</div>

<h3 class="section">3.20 Charsets</h3>

<p><a name="index-charsets-1489"></a>
People use different charsets, and we have <acronym>MIME</acronym> to let us know what
charsets they use.  Or rather, we wish we had.  Many people use
newsreaders and mailers that do not understand or use <acronym>MIME</acronym>, and
just send out messages without saying what character sets they use.  To
help a bit with this, some local news hierarchies have policies that say
what character set is the default.  For instance, the &lsquo;<samp><span class="samp">fj</span></samp>&rsquo;
hierarchy uses <code>iso-2022-jp</code>.

   <p><a name="index-gnus_002dgroup_002dcharset_002dalist-1490"></a>This knowledge is encoded in the <code>gnus-group-charset-alist</code>
variable, which is an alist of regexps (use the first item to match full
group names) and default charsets to be used when reading these groups.

   <p><a name="index-gnus_002dnewsgroup_002dignored_002dcharsets-1491"></a>In addition, some people do use soi-disant <acronym>MIME</acronym>-aware agents that
aren't.  These blithely mark messages as being in <code>iso-8859-1</code>
even if they really are in <code>koi-8</code>.  To help here, the
<code>gnus-newsgroup-ignored-charsets</code> variable can be used.  The
charsets that are listed here will be ignored.  The variable can be
set on a group-by-group basis using the group parameters (see <a href="Group-Parameters.html#Group-Parameters">Group Parameters</a>).  The default value is <code>(unknown-8bit x-unknown)</code>,
which includes values some agents insist on having in there.

   <p><a name="index-gnus_002dgroup_002dposting_002dcharset_002dalist-1492"></a>When posting, <code>gnus-group-posting-charset-alist</code> is used to
determine which charsets should not be encoded using the <acronym>MIME</acronym>
encodings.  For instance, some hierarchies discourage using
quoted-printable header encoding.

   <p>This variable is an alist of regexps and permitted unencoded charsets
for posting.  Each element of the alist has the form <code>(</code><var>test
header body-list</var><code>)</code>, where:

     <dl>
<dt><var>test</var><dd>is either a regular expression matching the newsgroup header or a
variable to query,
<br><dt><var>header</var><dd>is the charset which may be left unencoded in the header (<code>nil</code>
means encode all charsets),
<br><dt><var>body-list</var><dd>is a list of charsets which may be encoded using 8bit content-transfer
encoding in the body, or one of the special values <code>nil</code> (always
encode using quoted-printable) or <code>t</code> (always use 8bit). 
</dl>

   <p><a name="index-Russian-1493"></a><a name="index-koi8_002dr-1494"></a><a name="index-koi8_002du-1495"></a><a name="index-iso_002d8859_002d5-1496"></a><a name="index-coding-system-aliases-1497"></a><a name="index-preferred-charset-1498"></a>
See <a href="../emacs-mime/Encoding-Customization.html#Encoding-Customization">Encoding Customization</a>, for additional variables that control which
MIME charsets are used when sending messages.

   <p>Other charset tricks that may be useful, although not Gnus-specific:

   <p>If there are several <acronym>MIME</acronym> charsets that encode the same Emacs
charset, you can choose what charset to use by saying the following:

<pre class="lisp">     (put-charset-property 'cyrillic-iso8859-5
                           'preferred-coding-system 'koi8-r)
</pre>
   <p>This means that Russian will be encoded using <code>koi8-r</code> instead of
the default <code>iso-8859-5</code> <acronym>MIME</acronym> charset.

   <p>If you want to read messages in <code>koi8-u</code>, you can cheat and say

<pre class="lisp">     (define-coding-system-alias 'koi8-u 'koi8-r)
</pre>
   <p>This will almost do the right thing.

   <p>And finally, to read charsets like <code>windows-1251</code>, you can say
something like

<pre class="lisp">     (codepage-setup 1251)
     (define-coding-system-alias 'windows-1251 'cp1251)
</pre>
   </body></html>

