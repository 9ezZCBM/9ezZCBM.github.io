<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>HTML - Gnus Manual</title>
<!--
Copyright (C) 1995--2019 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="HTML"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Customizing-Articles.html#Customizing-Articles">Customizing Articles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Using-MIME.html#Using-MIME">Using MIME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Article-Buffer.html#Article-Buffer">Article Buffer</a>

</div>

<h3 class="section">4.3 <acronym>HTML</acronym></h3>

<p><a name="index-g_t_0040acronym_007bHTML_007d-1786"></a>
Gnus can display <acronym>HTML</acronym> articles nicely formatted in the
article buffer.  There are many methods for doing that, but two of
them are kind of default methods.

   <p>If your Emacs copy has been built with libxml2 support, then Gnus uses
Emacs' built-in, plain elisp Simple HTML Renderer <code>shr</code>
<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a> which is also used by Emacs'
browser EWW (see <a href="../emacs/EWW.html#EWW">EWW</a>).

   <p>If your Emacs copy lacks libxml2 support but you have <code>w3m</code>
installed on your system, Gnus uses that to render <acronym>HTML</acronym> mail
and display the results in the article buffer (<code>gnus-w3m</code>).

   <p>For a complete overview, consult See <a href="../emacs-mime/Display-Customization.html#Display-Customization">Display Customization</a>.  This section only
describes the default method.

     <dl>
<dt><code>mm-text-html-renderer</code><dd><a name="index-mm_002dtext_002dhtml_002drenderer-1787"></a>If set to <code>shr</code>, Gnus uses its own simple <acronym>HTML</acronym>
renderer.  If set to <code>gnus-w3m</code>, it uses <code>w3m</code>.

     <br><dt><code>gnus-blocked-images</code><dd><a name="index-gnus_002dblocked_002dimages-1788"></a>External images that have <acronym>URL</acronym>s that match this regexp won't
be fetched and displayed.  For instance, to block all <acronym>URL</acronym>s
that have the string &ldquo;ads&rdquo; in them, do the following:

     <pre class="lisp">          (setq gnus-blocked-images "ads")
</pre>
     <p>This can also be a function to be evaluated.  If so, it will be
called with the group name as the parameter.  The default value is
<code>gnus-block-private-groups</code>, which will return &lsquo;<samp><span class="samp">"."</span></samp>&rsquo; for
anything that isn't a newsgroup.  This means that no external images
will be fetched as a result of reading mail, so that nobody can use
web bugs (and the like) to track whether you've read email.

     <p>Also see <a href="Misc-Article.html#Misc-Article">Misc Article</a> for <code>gnus-inhibit-images</code>.

     <br><dt><code>gnus-html-cache-directory</code><dd><a name="index-gnus_002dhtml_002dcache_002ddirectory-1789"></a>Gnus will download and cache images according to how
<code>gnus-blocked-images</code> is set.  These images will be stored in
this directory.

     <br><dt><code>gnus-html-cache-size</code><dd><a name="index-gnus_002dhtml_002dcache_002dsize-1790"></a>When <code>gnus-html-cache-size</code> bytes have been used in that
directory, the oldest files will be deleted.  The default is 500MB.

     <br><dt><code>gnus-html-frame-width</code><dd><a name="index-gnus_002dhtml_002dframe_002dwidth-1791"></a>The width to use when rendering HTML.  The default is 70.

     <br><dt><code>gnus-max-image-proportion</code><dd><a name="index-gnus_002dmax_002dimage_002dproportion-1792"></a>How big pictures displayed are in relation to the window they're in. 
A value of 0.7 (the default) means that they are allowed to take up
70% of the width and height of the window.  If they are larger than
this, and Emacs supports it, then the images will be rescaled down to
fit these criteria.

     <br><dt><code>gnus-article-show-cursor</code><dd><a name="index-gnus_002darticle_002dshow_002dcursor-1793"></a>If non-<code>nil</code>, display the cursor in the article buffer even when
the article buffer isn't the current buffer. 
</dl>

   <p>To use this, make sure that you have <code>w3m</code> and <code>curl</code>
installed.  If you have, then Gnus should display <acronym>HTML</acronym>
automatically.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> <code>shr</code> displays colors as declared in the <acronym>HTML</acronym>
article but tries to adjust them in order to be readable.  If you
prefer more contrast, See <a href="FAQ-4_002d16.html#FAQ-4_002d16">FAQ 4-16</a>.</p>

   <hr></div>

   </body></html>

