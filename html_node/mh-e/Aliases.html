<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>Aliases - The MH-E Manual</title>
<!--
This is version 8.6 of `The MH-E
Manual', last updated 2016-04-29.

Copyright (C) 1995, 2001--2003, 2005--2019 Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of either:

       a. the GNU Free Documentation License, Version 1.3 or any later
          version published by the Free Software Foundation; with no
          Invariant Sections, with the Front-Cover Texts being ``A GNU
          Manual,'' and with the Back-Cover Texts as in (a) below. A
          copy of the license is included in the section entitled ``GNU
          Free Documentation License.''

          (a) The FSF's Back-Cover Text is: ``You have the freedom to
          copy and modify this GNU manual.''

       b. the GNU General Public License as published by the Free
          Software Foundation; either version 3, or (at your option)
          any later version. A copy of the license is included in the
          section entitled ``GNU General Public License.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="Aliases"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Identities.html#Identities">Identities</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Editing-Drafts.html#Editing-Drafts">Editing Drafts</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>

</div>

<h2 class="chapter">10 Aliases</h2>

<p><a name="index-aliases-1506"></a>
MH aliases are used in the same way in MH-E as they are in MH. Any
alias listed as a recipient will be expanded when the message is sent. 
This chapter discusses other things you can do with aliases in MH-E.

   <p><a name="index-MH_002dLetter-mode-1507"></a><a name="index-modes_002c-MH_002dLetter-1508"></a>
The following commands are available in MH-Letter mode with the
exception of <code>mh-alias-reload</code> which can be called from anywhere.

     
<a name="index-SPC-1509"></a>
<a name="index-mh_002dletter_002dcomplete_002dor_002dspace-1510"></a>
<dl><dt><kbd>&lt;SPC&gt;</kbd><dd>Perform completion or insert space (<code>mh-letter-complete-or-space</code>). 
<!--  -->
<a name="index-M_002dTAB-1511"></a><a name="index-mh_002dletter_002dcomplete-1512"></a><br><dt><kbd>M-&lt;TAB&gt;</kbd><dd>Perform completion on header field or word preceding point
(<code>mh-letter-complete</code>). 
<!--  -->
<a name="index-mh_002dalias_002dapropos-1513"></a><br><dt><kbd>mh-alias-apropos</kbd><dd>Show all aliases or addresses that match a regular expression. 
<!--  -->
<a name="index-mh_002dalias_002dgrab_002dfrom_002dfield-1514"></a><br><dt><kbd>mh-alias-grab-from-field</kbd><dd>Add alias for the sender of the current message
<!--  -->
<a name="index-mh_002dalias_002dreload-1515"></a><br><dt><kbd>mh-alias-reload</kbd><dd>Reload MH aliases. 
</dl>

   <p><a name="index-g_t_0040samp_007bmh_002dalias_007d-customization-group-1516"></a><a name="index-customization-group_002c-_0040samp_007bmh_002dalias_007d-1517"></a>
The &lsquo;<samp><span class="samp">mh-alias</span></samp>&rsquo; customization group contains options associated
with aliases.

     <dl>
<dt><code>mh-alias-completion-ignore-case-flag</code><a name="index-mh_002dalias_002dcompletion_002dignore_002dcase_002dflag-1518"></a><dd>On means don't consider case significant in MH alias completion
(default: &lsquo;<samp><span class="samp">on</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-alias-expand-aliases-flag</code><a name="index-mh_002dalias_002dexpand_002daliases_002dflag-1519"></a><dd>On means to expand aliases entered in the minibuffer (default:
&lsquo;<samp><span class="samp">off</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-alias-flash-on-comma</code><a name="index-mh_002dalias_002dflash_002don_002dcomma-1520"></a><dd>Specify whether to flash address or warn on translation (default: &lsquo;<samp><span class="samp">Flash
but Don't Warn If No Alias</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-alias-insert-file</code><a name="index-mh_002dalias_002dinsert_002dfile-1521"></a><dd>Filename used to store a new MH-E alias (default: &lsquo;<samp><span class="samp">Use Aliasfile
Profile Component</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-alias-insertion-location</code><a name="index-mh_002dalias_002dinsertion_002dlocation-1522"></a><dd>Specifies where new aliases are entered in alias files (default:
&lsquo;<samp><span class="samp">Alphabetical</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-alias-local-users</code><a name="index-mh_002dalias_002dlocal_002dusers-1523"></a><dd>If &lsquo;<samp><span class="samp">on</span></samp>&rsquo;, local users are added to alias completion (default:
&lsquo;<samp><span class="samp">on</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-alias-local-users-prefix</code><a name="index-mh_002dalias_002dlocal_002dusers_002dprefix-1524"></a><dd>String prefixed to the real names of users from the password file
(default: <code>"local."</code>. 
<!--  -->
<br><dt><code>mh-alias-passwd-gecos-comma-separator-flag</code><a name="index-mh_002dalias_002dpasswd_002dgecos_002dcomma_002dseparator_002dflag-1525"></a><dd>On means the GECOS field in the password file uses a comma separator
(default: &lsquo;<samp><span class="samp">on</span></samp>&rsquo;). 
</dl>

   <p>The following hook is available.

     <dl>
<dt><code>mh-alias-reloaded-hook</code><a name="index-mh_002dalias_002dreloaded_002dhook-1526"></a><dd>Hook run by <code>mh-alias-reload</code> after loading aliases (default:
<code>nil</code>). 
</dl>

<h4 class="subheading">Adding Addresses to Draft</h4>

<p>You can use aliases when you are adding recipients to a message.

   <p><a name="index-minibuffer_002dcomplete-1527"></a><a name="index-TAB-1528"></a><a name="index-mh_002dalias_002dexpand_002daliases_002dflag-1529"></a><a name="index-mh_002dcompose_002dprompt_002dflag-1530"></a>
In order to use minibuffer prompting for recipients and the subject
line in the minibuffer, turn on the option
<code>mh-compose-prompt-flag</code> (see <a href="Composing.html#Composing">Composing</a>), and use the
&lt;TAB&gt; (<code>minibuffer-complete</code>) command to complete aliases
(and optionally local logins) when prompted for the recipients. Turn
on the option <code>mh-alias-expand-aliases-flag</code> if you want these
aliases to be expanded to their respective addresses in the draft.

   <p><a name="index-mh_002dletter_002dcomplete-1531"></a><a name="index-mh_002dletter_002dcomplete_002dor_002dspace-1532"></a><a name="index-SPC-1533"></a><a name="index-M_002dTAB-1534"></a>
Otherwise, you can complete aliases in the header of the draft with
<kbd>M-&lt;TAB&gt;</kbd> (<code>mh-letter-complete</code>) or &lt;SPC&gt;
(<code>mh-letter-complete-or-space</code>).

   <p><a name="index-mh_002dalias_002dcompletion_002dignore_002dcase_002dflag-1535"></a>
As MH ignores case in the aliases, so too does MH-E. However, you may
turn off the option <code>mh-alias-completion-ignore-case-flag</code> to
make case significant which can be used to segregate completion of
your aliases. You might use uppercase for mailing lists and lowercase
for people. For example, you might have:

<pre class="smallexample">     mark.baushke: Mark Baushke &lt;mdb@stop.mail-abuse.org&gt;
     MH-E: MH-E Mailing List &lt;mh-e-devel@stop.mail-abuse.org&gt;
</pre>
   <p>When this option is turned off, if you were to type <kbd>M</kbd> in the
&lsquo;<samp><span class="samp">To:</span></samp>&rsquo; field and then <kbd>M-&lt;TAB&gt;</kbd>, then you'd get the list;
if you started with <kbd>m</kbd> and then entered <kbd>M-&lt;TAB&gt;</kbd>, then
you'd get Mark's address. Note that this option affects completion
only. If you were to enter <kbd>Mark.Baushke</kbd>, it would still be
identified with your &lsquo;<samp><span class="samp">mark.baushke</span></samp>&rsquo; alias.

   <p><a name="index-mh_002dalias_002dminibuffer_002dconfirm_002daddress-1536"></a><a name="index-mh_002dletter_002dconfirm_002daddress-1537"></a><a name="index-mh_002dalias_002dflash_002don_002dcomma-1538"></a><a name="index-mh_002dcompose_002dprompt_002dflag-1539"></a>
To verify that the alias you've entered is valid, the alias will be
displayed in the minibuffer when you type a comma
(<code>mh-letter-confirm-address</code> or
<code>mh-alias-minibuffer-confirm-address</code> if the option
<code>mh-compose-prompt-flag</code> is turned on). See <a href="Composing.html#Composing">Composing</a>. This
behavior can be controlled with the option
<code>mh-alias-flash-on-comma</code> which provides three choices:
&lsquo;<samp><span class="samp">Flash but Don't Warn If No Alias</span></samp>&rsquo;, &lsquo;<samp><span class="samp">Flash and Warn If No
Alias</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">Don't Flash Nor Warn If No Alias</span></samp>&rsquo;.

   <p>For another way to verify the alias expansion, see <a href="Checking-Recipients.html#Checking-Recipients">Checking Recipients</a>.

<h4 class="subheading">Loading Aliases</h4>

<p><a name="index-g_t_0040command_007bali_007d-1540"></a><a name="index-g_t_0040file_007b_002fetc_002fnmh_002fMailAliases_007d-1541"></a><a name="index-g_t_0040samp_007bAliasfile_007d-MH-profile-component-1542"></a><a name="index-MH-commands_002c-_0040command_007bali_007d-1543"></a><a name="index-MH-profile-component_002c-_0040samp_007bAliasfile_007d-1544"></a><a name="index-files_002c-_0040file_007b_002fetc_002fnmh_002fMailAliases_007d-1545"></a>
MH-E loads aliases for completion and folder name hints from various
places. It uses the MH command <samp><span class="command">ali</span></samp><a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a> to
read aliases from the files listed in the profile component
&lsquo;<samp><span class="samp">Aliasfile:</span></samp>&rsquo; as well as system-wide aliases (for example,
<samp><span class="file">/etc/nmh/MailAliases</span></samp>).

   <p><a name="index-g_t_0040file_007b_002fetc_002fpasswd_007d-1546"></a><a name="index-files_002c-_0040file_007b_002fetc_002fpasswd_007d-1547"></a>
In addition, aliases are created from <samp><span class="file">/etc/passwd</span></samp> entries with
a user ID larger than a magical number, typically 200. This can be a
handy tool on a machine where you and co-workers exchange messages. 
These aliases have the form &lsquo;<samp><span class="samp">local.</span><var>first.last</var></samp>&rsquo; if a real
name is present in the password file. Otherwise, the alias will have
the form &lsquo;<samp><span class="samp">local.</span><var>login</var></samp>&rsquo;.

   <p><a name="index-mh_002dalias_002dlocal_002dusers_002dprefix-1548"></a>
The prefix &lsquo;<samp><span class="samp">local.</span></samp>&rsquo; can be modified via the option
<code>mh-alias-local-users-prefix</code>. This option can also be set to
&lsquo;<samp><span class="samp">Use Login</span></samp>&rsquo;.

   <p>For example, consider the following password file entry:

<pre class="smallexample">     psg:x:1000:1000:Peter S Galbraith,,,:/home/psg:/bin/tcsh
</pre>
   <p><a name="index-mh_002dalias_002dlocal_002dusers_002dprefix-1549"></a>
The following settings of option <code>mh-alias-local-users-prefix</code>
will produce the associated aliases:

     <dl>
<dt><code>"local."</code><dd>local.peter.galbraith
<!--  -->
<br><dt><code>""</code><dd>peter.galbraith
<!--  -->
<br><dt><code>Use Login</code><dd>psg
</dl>

   <p><a name="index-mh_002dalias_002dpasswd_002dgecos_002dcomma_002dseparator_002dflag-1550"></a>
In the example above, commas are used to separate different values
within the so-called GECOS field. This is a fairly common usage. 
However, in the rare case that the GECOS field in your password file
is not separated by commas and whose contents may contain commas, you
can turn the option <code>mh-alias-passwd-gecos-comma-separator-flag</code>
off.

   <p><a name="index-NIS_002c-obtaining-local-aliases-from-1551"></a><a name="index-g_t_0040samp_007bypcat-passwd_007d-1552"></a><a name="index-mh_002dalias_002dlocal_002dusers-1553"></a>
If you're on a system with thousands of users you don't know, and the
loading of local aliases slows MH-E down noticeably, then the local
alias feature can be disabled by turning off the option
<code>mh-alias-local-users</code>. This option also takes a string which is
executed to generate the password file. For example, use &lsquo;<samp><span class="samp">ypcat
passwd</span></samp>&rsquo; to obtain the NIS password file.

   <p><a name="index-mh_002dalias_002dreload-1554"></a><a name="index-mh_002dalias_002dreloaded_002dhook-1555"></a>
Since aliases are updated frequently, MH-E reloads aliases
automatically whenever an alias lookup occurs if an alias source has
changed. However, you can reload your aliases manually by calling the
command <kbd>M-x mh-alias-reload</kbd> directly. This command runs
<code>mh-alias-reloaded-hook</code> after the aliases have been loaded.

<h4 class="subheading">Adding Aliases</h4>

<p>In the past, you have manually added aliases to your alias file(s)
listed in your &lsquo;<samp><span class="samp">Aliasfile:</span></samp>&rsquo; profile component. MH-E provides
other methods for maintaining your alias file(s).

   <p><a name="index-mh_002dalias_002dadd_002dalias-1556"></a>
You can use the <kbd>M-x mh-alias-add-alias</kbd> command which will prompt
you for the alias and address that you would like to add. If the alias
exists already, you will have the choice of inserting the new alias
before or after the old alias. In the former case, this alias will be
used when sending mail to this alias. In the latter case, the alias
serves as an additional folder name hint when filing messages
(see <a href="Folder-Selection.html#Folder-Selection">Folder Selection</a>).

   <p>Earlier, the alias prefix &lsquo;<samp><span class="samp">local</span></samp>&rsquo; was presented. You can use
other prefixes to organize your aliases or disambiguate entries. You
might use prefixes for locales, jobs, or activities. For example, I
have:

<pre class="smallexample">     ; Work
     attensity.don.mitchell: Don Mitchell &lt;dmitchell@stop.mail-abuse.com&gt;
     isharp.don.mitchell: Don Mitchell &lt;donaldsmitchell@stop.mail-abuse.com&gt;
     ...
     ; Sport
     diving.ken.mayer: Ken Mayer &lt;kmayer@stop.mail-abuse.com&gt;
     sailing.mike.maloney: Mike Maloney &lt;mmaloney@stop.mail-abuse.com&gt;
     ...
     ; Personal
     ariane.kolkmann: Ariane Kolkmann &lt;ArianeKolkmann@stop.mail-abuse.com&gt;
     ...
</pre>
   <p>Using prefixes instead of postfixes helps you explore aliases during
completion. If you forget the name of an old dive buddy, you can enter
&lsquo;<samp><span class="samp">div</span></samp>&rsquo; and then &lt;SPC&gt; to get a listing of all your dive buddies.

   <p><a name="index-mh_002dalias_002dadd_002daddress_002dunder_002dpoint-1557"></a><a name="index-mh_002dalias_002dgrab_002dfrom_002dfield-1558"></a>
An alias for the sender of the current message is added automatically
by clicking on the &lsquo;<samp><span class="samp">Grab From alias</span></samp>&rsquo; tool bar button or by running
the <kbd>M-x mh-alias-grab-from-field</kbd> command. Aliases for other
recipients of the current message are added by placing your cursor
over the desired recipient and giving the <kbd>M-x
mh-alias-add-address-under-point</kbd> command.

   <p><a name="index-mh_002dalias_002dinsert_002dfile-1559"></a><a name="index-mh_002dalias_002dinsertion_002dlocation-1560"></a>
The options <code>mh-alias-insert-file</code> and
<code>mh-alias-insertion-location</code> controls how and where these aliases
are inserted.

   <p><a name="index-mh_002dalias_002dinsert_002dfile-1561"></a>
The default setting of option <code>mh-alias-insert-file</code> is &lsquo;<samp><span class="samp">Use
Aliasfile Profile Component</span></samp>&rsquo;. This option can also hold the name of a
file or a list a file names. If this option is set to a list of file
names, or the &lsquo;<samp><span class="samp">Aliasfile:</span></samp>&rsquo; profile component contains more than
one file name, MH-E will prompt for one of them.

   <p><a name="index-mh_002dalias_002dinsertion_002dlocation-1562"></a>
The option <code>mh-alias-insertion-location</code> is set to
&lsquo;<samp><span class="samp">Alphabetical</span></samp>&rsquo; by default. If you organize your alias file in
other ways, then the settings &lsquo;<samp><span class="samp">Top</span></samp>&rsquo; and &lsquo;<samp><span class="samp">Bottom</span></samp>&rsquo; might be
more appropriate.

<h4 class="subheading">Querying Aliases</h4>

<p><a name="index-regular-expressions_002c-_0040code_007bmh_002dalias_002dapropos_007d-1563"></a><a name="index-mh_002dalias_002dapropos-1564"></a>
If you can't quite remember an alias, you can use <kbd>M-x
mh-alias-apropos</kbd> to show all aliases or addresses that match a
regular expression
(see the section
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexps.html">Syntax of Regular Expressions</a> in
<cite>The GNU Emacs Manual</cite>).

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> See the section
<a href="http://rand-mh.sourceforge.net/book/mh/mh.html">MH Aliases</a> in the MH book.</p>

   <hr></div>

   </body></html>

