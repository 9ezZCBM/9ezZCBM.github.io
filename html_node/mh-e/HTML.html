<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<title>HTML - The MH-E Manual</title>
<!--
This is version 8.6 of `The MH-E
Manual', last updated 2016-04-29.

Copyright (C) 1995, 2001--2003, 2005--2019 Free Software
Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of either:

       a. the GNU Free Documentation License, Version 1.3 or any later
          version published by the Free Software Foundation; with no
          Invariant Sections, with the Front-Cover Texts being ``A GNU
          Manual,'' and with the Back-Cover Texts as in (a) below. A
          copy of the license is included in the section entitled ``GNU
          Free Documentation License.''

          (a) The FSF's Back-Cover Text is: ``You have the freedom to
          copy and modify this GNU manual.''

       b. the GNU General Public License as published by the Free
          Software Foundation; either version 3, or (at your option)
          any later version. A copy of the license is included in the
          section entitled ``GNU General Public License.''
   -->
<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>
<body>
<div class="node" style="background-color:#DDDDFF">
<a name="HTML"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Digests.html#Digests">Digests</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Viewing-Attachments.html#Viewing-Attachments">Viewing Attachments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Reading-Mail.html#Reading-Mail">Reading Mail</a>

</div>

<h3 class="section">6.3 HTML</h3>

<p><a name="index-HTML-610"></a><a name="index-Gnus-611"></a>
MH-E can display messages that have been sent in HTML. The
content of the message will appear in the MH-Show buffer as you would
expect if the entire message is HTML, or there is an inline HTML body
part. However, if there is an HTML body part that is an attachment,
then you'll see a button like this:

<pre class="smallexample">     [1. text/html; foo.html]...
</pre>
   <p>To see how to read the contents of this body part, see <a href="Viewing-Attachments.html#Viewing-Attachments">Viewing Attachments</a>.

   <p><a name="index-mm_002dtext_002dhtml_002drenderer-612"></a>
The browser that MH-E uses is determined by the option
<code>mm-text-html-renderer</code>. The default setting is set automatically
based upon the presence of a known browser on your system. If you wish
to use a different browser, then set this option accordingly. See the
documentation for the browser you use for additional information on
how to use it. In particular, find and disable the option to render
images, as displaying remote images can tip off spammers that the
email address they have used is valid.

   <p><a name="index-mm_002dtext_002dhtml_002drenderer-613"></a>
If you're confused about which <code>mm-text-html-renderer</code> to use,
here's a brief description of each, sorted by name.

     
<a name="index-browser_002c-_0040samp_007bgnus_002dw3m_007d-614"></a>
<a name="index-g_t_0040samp_007bgnus_002dw3m_007d-615"></a>
<a name="index-browser_002c-_0040samp_007bw3m_007d-616"></a>
<a name="index-g_t_0040samp_007bw3m_007d-617"></a>
<dl><dt>&lsquo;<samp><span class="samp">gnus-w3m</span></samp>&rsquo;<dd>The &lsquo;<samp><span class="samp">gnus-w3m</span></samp>&rsquo; browser requires an external program. It's quick,
produces pretty nice output, and it highlights links. It renders
&lsquo;<samp><span class="samp">&amp;ndash;</span></samp>&rsquo; and &lsquo;<samp><span class="samp">&amp;reg;</span></samp>&rsquo; okay. It sometimes fails to wrap lines
properly. It always downloads remote images. 
<!--  -->
<a name="index-browser_002c-_0040samp_007bhtml2text_007d-618"></a><a name="index-g_t_0040samp_007bhtml2text_007d-619"></a><br><dt>&lsquo;<samp><span class="samp">html2text</span></samp>&rsquo;<dd>The &lsquo;<samp><span class="samp">html2text</span></samp>&rsquo; browser requires an external program. Some users
have reported problems with it, such as filling the entire message as
if it were one paragraph, or displaying chunks of raw HTML. 
<!--  -->
<a name="index-browser_002c-_0040samp_007blinks_007d-620"></a><a name="index-g_t_0040samp_007blinks_007d-621"></a><br><dt>&lsquo;<samp><span class="samp">links</span></samp>&rsquo;<dd>The &lsquo;<samp><span class="samp">links</span></samp>&rsquo; browser requires an external program. It's quick, and
produces nicer output than &lsquo;<samp><span class="samp">lynx</span></samp>&rsquo; on single column mails in
tables. However, it doesn't show links and it doesn't do as nice a job
on multi-column tables as some lines wrap. It does do a good job of
fitting text within 80 columns. It appears to render special
characters using ASCII equivalents. For example, &lsquo;<samp><span class="samp">&amp;reg;</span></samp>&rsquo; appears
as (R). It does not download images. 
<!--  -->
<a name="index-browser_002c-_0040samp_007blynx_007d-622"></a><a name="index-g_t_0040samp_007blynx_007d-623"></a><br><dt>&lsquo;<samp><span class="samp">lynx</span></samp>&rsquo;<dd>The &lsquo;<samp><span class="samp">lynx</span></samp>&rsquo; browser requires an external program. It's quick and
produces pretty decent output but it doesn't show links. It doesn't
seem to do multi-column tables which makes output much cleaner. It
centers the output and wraps long lines more than most. It does not
always handle special characters like &lsquo;<samp><span class="samp">&amp;reg;</span></samp>&rsquo; or &lsquo;<samp><span class="samp">&amp;ndash;</span></samp>&rsquo;. 
It does not download images. 
<!--  -->
<br><dt>&lsquo;<samp><span class="samp">nil</span></samp>&rsquo;<dd>This choice obviously requires an external browser. With this setting,
HTML messages have a button for the body part which you can view with
<kbd>K v</kbd> (<code>mh-folder-toggle-mime-part</code>). Rendering of special
characters and handling of remote images depends on your choice of
browser. 
<!--  -->
<br><dt>&lsquo;<samp><span class="samp">shr</span></samp>&rsquo;<dd><a name="index-g_t_0040samp_007bshr_007d-624"></a>This choice does not require an external program, but it does require
that Emacs be configured at build time to use &lsquo;<samp><span class="samp">libxml2</span></samp>&rsquo;. It is
fairly quick, it highlights links, and it supports HTML color
declarations. It renders &lsquo;<samp><span class="samp">&amp;ndash;</span></samp>&rsquo; and &lsquo;<samp><span class="samp">&amp;reg;</span></samp>&rsquo; okay. It
sometimes truncates text, particularly if the message tries to have
fancy text layout. By default it does not download images; this
behavior is controlled by the options <code>mm-html-blocked-images</code>
and <code>mm-html-inhibit-images</code>
(see section <a href="http://www.gnus.org/manual/emacs-mime_6.html">Display Customization</a> in the <cite>The Emacs MIME Manual</cite>). 
<!--  -->
<a name="index-browser_002c-_0040samp_007bw3m_007d-625"></a><a name="index-g_t_0040samp_007bw3m_007d-626"></a><a name="index-mouse_002d2-627"></a><br><dt>&lsquo;<samp><span class="samp">w3m</span></samp>&rsquo;<dd>The &lsquo;<samp><span class="samp">w3m</span></samp>&rsquo; browser requires an external program. It's quick,
produces pretty nice output, and it highlights links. These can be
clicked with <kbd>mouse-2</kbd> to view the content of the link in
&lsquo;<samp><span class="samp">w3m</span></samp>&rsquo;. The &lsquo;<samp><span class="samp">w3m</span></samp>&rsquo; browser handles tables well and actually
respects the table's width parameter (which can cause text to wrap if
the author didn't anticipate that the page would be viewed in Emacs). 
It does not download images by default; this behavior is controlled by
the option <code>mm-w3m-safe-url-regexp</code>
(see section <a href="http://www.gnus.org/manual/emacs-mime_6.html">Display Customization</a> in the <cite>The Emacs MIME Manual</cite>). 
<!--  -->
<a name="index-browser_002c-_0040samp_007bw3m_002dstandalone_007d-628"></a><a name="index-g_t_0040samp_007bw3m_002dstandalone_007d-629"></a><a name="index-browser_002c-_0040samp_007bw3m_007d-630"></a><a name="index-g_t_0040samp_007bw3m_007d-631"></a><br><dt>&lsquo;<samp><span class="samp">w3m-standalone</span></samp>&rsquo;<dd>This browser is quick, but does not show links. It handles simple
tables but some tables get rendered much wider than the Emacs frame. 
This browser renders &lsquo;<samp><span class="samp">&amp;ndash;</span></samp>&rsquo; and &lsquo;<samp><span class="samp">&amp;reg;</span></samp>&rsquo; okay. It does not
download images. 
</dl>

   <p><a name="index-mm_002dtext_002dhtml_002drenderer-632"></a>
For a couple more sources of information about
<code>mm-text-html-renderer</code>,
see section <a href="http://www.gnus.org/manual/emacs-mime_6.html">Display Customization</a> in the <cite>The Emacs MIME Manual</cite> and the
documentation for the Gnus command <kbd>W h</kbd> (see section
<a href="http://www.gnus.org/manual/gnus_48.html#Article-Washing">Article Washing</a> in the
<cite>The Gnus Manual</cite>).

   <p><a name="index-g_t_0040file_007b_002eemacs_007d-633"></a><a name="index-files_002c-_0040file_007b_002eemacs_007d-634"></a><a name="index-browse_002durl_002dat_002dmouse-635"></a><a name="index-S_002dmouse_002d2-636"></a>
A useful key binding that you can add to <samp><span class="file">~/.emacs</span></samp> is the
following which displays an HTML link or textual URL in an external
browser when clicked with <kbd>S-mouse-2</kbd>. This binding works in any
buffer, including HTML buffers.

<pre class="smalllisp">     (global-set-key [S-mouse-2] 'browse-url-at-mouse)
</pre>
   </body></html>

